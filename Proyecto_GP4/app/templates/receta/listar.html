{% extends "main.html" %}
{% load static %}
{% block Contenido %}
<div class="tabla-wrapper">
  <table class="tabla" id="tabla">
    {{ receta.detalles.all }}
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Plato</th>
        <th>Insumos</th>
        <th>Editar</th>
        <th>Eliminar</th>
      </tr>
    </thead>

    <tbody>
      {% for receta in object_list %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ receta.plato.nombre }}</td>
        <td>
          <ul class="mb-0">
            {% for detalle in receta.detalles.all %}
            <li>
              {{ detalle.insumo.nombre }} ({{ detalle.cantidad }})
            </li>
            {% empty %}
            <li class="text-muted">Sin insumos</li>
            {% endfor %}
          </ul>
        </td>
        <td>
          <a href="{% url 'app:editar_receta' receta.id %}" class="btn btn-warning btn-sm">
            <i class="fas fa-edit"></i>
          </a>
        </td>
        <td>
          <a href="{% url 'app:eliminar_receta' receta.id %}" class="btn btn-danger btn-sm">
            <i class="fas fa-trash"></i>
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class="card-footer">
  <a href="{% url 'app:crear_receta' %}" class="btn btn-success">
    <i class="fas fa-plus"></i> Crear nueva receta
  </a>
</div>
{% endblock %}